function init(){var a,b;$("#winning-numbers-btn").on("click",function(b){a=new modalInit(this),$(".slider").slick("slickPause")}),$("#trayButton").on("click",function(a){b=new modalSmInit(this),$(".slider").slick("slickPause")}),$(".navbar-toggle").on("click",function(a){navBgIn(),$(".slider").slick("slickPause")}),$(".slider").on("init",function(){$(this).css("visibility","visible")}),$(".slider").slick({dots:!0,infinite:!0,autoplay:!0,autoplaySpeed:3e3,speed:1800,slidesToShow:1,slidesToScroll:1,pauseOnFocus:!0,pauseOnHover:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:782,settings:{slidesToShow:1,slidesToScroll:1,dots:!0}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]});var c=function(){var a=$(".slider-mobile-only");$(window).width()<768&&!a.hasClass("slick-initialized")&&a.slick({dots:!0,infinite:!0,autoplay:!0,speed:1e3,slidesToShow:1,slidesToScroll:1,pauseOnFocus:!0,pauseOnHover:!0,mobileFirst:!0,responsive:[{breakpoint:768,settings:"unslick"},{breakpoint:0,settings:{slidesToShow:1,slidesToScroll:1}}]})};c(),$(window).on("resize",c),$(".nys-nav-top .toggle").on("click",function(){$(this).closest(".nys-nav-top").toggleClass("open")}),welcomeBanner(),confettiMaker(),$(".slider").on("beforeChange",function(a,b,c,d){0===d?(welcomeBanner(.3),confettiMaker()):1===d&&firecrackerPop(),0===c?killConfetti():1===c&&killFirecracker()});var d=!1;$(".promotions").waypoint(function(){d||lighthouse(),d=!0},{offset:"90%"}),legendsFrameGlare();var e=!1;$(".game-match").waypoint(function(){e||paintRoll1(),e=!0},{offset:"0%"});var f=!1;$(".lottery-legends").waypoint(function(){f||(paintRoll2(),paintDrops()),f=!0});var g=!1;$(".videos").waypoint(function(){g||liberty(),g=!0},{offset:"50%"}),$(window).on("resize",function(){if($(window).width()<992){var c=$("#winning-numbers-modal-lg");"none"!=c.css("display")&&(a.killModal(),a=null,$("#trayButton").trigger("click"))}else{var d=$("#winning-numbers-modal-sm");"none"!=d.css("display")&&(b.killModal(),b=null,$("#winning-numbers-btn").trigger("click"))}})}function navBgIn(){function a(){g.unbind(),i.each(function(a){TweenMax.killTweensOf(this)}),h.stop(),h.kill(),b(),$(document.activeElement).blur(),$(".slider").slick("slickPlay")}function b(){TweenMax.set(d,{clearProps:"all"}),TweenMax.set(e,{clearProps:"all"}),TweenMax.set(f,{clearProps:"all"})}var c=$("#navModal"),d=$(".nav-bg-yellow"),e=$(".nav-bg-orange"),f=$(".nav-bg-red"),g=$("#navModal").find(".close-bt");killConfetti();var h=new TimelineMax;h.from(g,.3,{scaleY:0,transformOrigin:"center center",ease:Bounce.easeOut,delay:.8},0),h.from(d,1.3,{x:3*-$(window).width(),y:3*-$(window).height(),ease:Power4.easeOut},0),h.from(e,.4,{x:$(window).width(),y:-$(window).height(),ease:Power4.easeOut},.3),h.from(f,.4,{x:-$(window).width(),y:$(window).height(),ease:Power4.easeOut},.5);var i=c.find(".nav").find("a");i.each(function(a){var b=.1*a;TweenMax.from(this,.3,{opacity:0,delay:.4+.2+b}),TweenMax.from(this,.3,{top:"+=50",delay:.4+.2+b,ease:Back.easeOut})}),g.on("click",function(b){a()})}function welcomeBanner(a){var b=$(".slider-welcome-banner-content").width();TweenMax.set($(".slider-welcome-banner-content"),{width:"0%"}),TweenMax.to($(".slider-welcome-banner-content"),.5,{width:b,ease:Back.easeOut,delay:.2+a});var c=.4+a,d=$(".slider-welcome-banner-left").css("left"),e=$(".slider-welcome-banner-left").find("svg"),f=e.width();TweenMax.set(e,{width:"1%"}),TweenMax.to(e,.5,{width:f,ease:Back.easeOut,delay:c}),TweenMax.set($(".slider-welcome-banner-left"),{left:-70,opacity:0}),TweenMax.to($(".slider-welcome-banner-left"),0,{opacity:1,delay:c}),TweenMax.to($(".slider-welcome-banner-left"),.5,{left:d,ease:Back.easeOut,delay:c});var g=$(".slider-welcome-banner-right").css("left"),h=$(".slider-welcome-banner-right").find("svg"),i=h.width();TweenMax.set(h,{width:"1%"}),TweenMax.to(h,.5,{width:i,ease:Back.easeOut,delay:c}),TweenMax.set($(".slider-welcome-banner-right"),{left:70,opacity:0}),TweenMax.to($(".slider-welcome-banner-right"),0,{opacity:1,delay:c}),TweenMax.to($(".slider-welcome-banner-right"),.5,{left:g,ease:Back.easeOut,delay:c}),TweenMax.set($(".slider-welcome-banner"),{opacity:1})}function firecrackerPop(){$(".firecracker-left").find(".firecracker-money"),$(".firecracker-right").find(".firecracker-money")}function killFirecracker(){}function lighthouse(){function a(){$beam=$(".lighthouse-beam"),$beam.addClass("grow-beam")}var b=$(".lighthouse"),c=34,d=b.position().top,e=b.height(),f=Math.round(e/c),g=0,h=(Math.round(f/3),d+.75*e);for(b.toggle(),TweenMax.set(b,{top:h}),i=0;i<f;i++){if(finalTop=h-c*(i+1),finalTop<0){finalTop=0,TweenMax.to(b,0,{top:finalTop,delay:g,onComplete:a});break}TweenMax.to(b,0,{top:finalTop,delay:g}),g+=.1}}function legendsFrameGlare(){var a=$(".legends-pic-glare"),b=$(".legends-pic-frame").width(),c=new TimelineMax({repeat:-1,repeatDelay:1.6});c.to(a,3.5,{left:b}),c.to(a,1,{opacity:1},0),c.to(a,1,{opacity:0},1.7)}function paintRoll1(){var a=$("#square1");TweenMax.set(a,{opacity:1}),a.addClass("ani1")}function paintRoll2(){var a=$("#square2");TweenMax.set(a,{opacity:1}),a.addClass("ani"),$(".left-brush").addClass("left-brush-done")}function paintDrops(){var a=$(".paint-drip1"),b=a.position().top,c=$(".paint-drip2"),d=c.position().top,e=$(".paint-drip3"),f=e.position().top;TweenMax.set(a,{scaleX:.1,scaleY:.1}),TweenMax.set(c,{scaleX:.1,scaleY:.1}),TweenMax.set(e,{scaleX:.1,scaleY:.1}),TweenMax.set($("#paint-drips-container"),{opacity:1,delay:3.5});var g=new TimelineMax({repeat:1,delay:3.5});g.to(a,1.9,{y:b+300,ease:Sine.easeIn,delay:1.1}),g.to(a,1,{scaleX:1,scaleY:1,ease:Sine.easeOut,delay:.3},0),g.to(a,.6,{opacity:0,delay:2.5},0),g.to(c,1.6,{y:d+275,ease:Sine.easeIn,delay:.9},0),g.to(c,1,{scaleX:1,scaleY:1,ease:Sine.easeOut,delay:.2},0),g.to(c,.6,{opacity:0,delay:2},0),g.to(e,1.5,{y:f+134,ease:Sine.easeIn,delay:.4},0),g.to(e,.6,{scaleX:1,scaleY:1,ease:Sine.easeOut},0),g.to(e,.6,{opacity:0,delay:1.5},0)}function confettiMaker(){var a,b,c,d,e,f=60,g=$(".confetti-container"),j=["#ec3d48","#00b8ff","#7d5fa7","#ffe700","#00b515"],k=1500;for(killConfetti(),i=0;i<f;i++){g.append("<div class='confetti'><div class='confetti-inner'></div></div>"),b=Math.random()*k-k/2,finX=100*Math.random()+100,posNeg=Math.round(1*Math.random()),0===posNeg?finX=b-finX:finX=b+finX,c=500*Math.random()+10,a=g.children().eq(i),$curConfettiInner=a.children(".confetti-inner"),d=Math.floor(Math.random()*j.length),e=1*Math.random()+2,fallSpeed=3*Math.random()+3,w=20*Math.random()+6,h=2*w,initR=360*Math.random(),midR=360*Math.random()+40,newR=initR+80*Math.random()+50,initScX=.5*Math.random()+.5,initScY=-(.5*Math.random()+.5),scX=.5*Math.random()+.5,scY=-(.5*Math.random()+.5),del=.4*Math.random(),innerOffset=2*Math.random()+1,$curConfettiInner.css({"background-color":j[d],top:innerOffset+"em",left:innerOffset+"em"}),TweenMax.set(a,{width:w,height:h,left:"50%",rotation:initR,scaleX:initScX});var l=new TimelineMax;l.to(a,e,{display:"block",x:b,y:c,scaleX:scX,scaleY:scY,ease:Expo.easeOut,delay:1}),l.to(a,fallSpeed+(.4+e),{rotation:initR-midR,delay:1,ease:Back.easeOut},0),l.to(a,fallSpeed,{x:finX,delay:.4+e,ease:Power1.easeInOut},0)}TweenMax.to(g,9,{y:$(window).height()+300,delay:1.2,ease:Power0.easeNone,onComplete:killConfetti},0)}function killConfetti(){var a=$(".confetti-container");TweenMax.killTweensOf(a),TweenMax.set(a,{clearProps:"all"}),a.empty(),a.css("-webkit-transform","none"),a.css("transform","none"),a.css("top","-260")}function liberty(){var a=$(".liberty"),b=$(".liberty-coin-left"),c=$(".liberty-coin-right"),d=$(".liberty-coin-center");a.toggle();var e=.03*document.getElementById("coin-left").getBoundingClientRect().height;e+=20,e="+="+e.toString()+"px";var f=new TimelineMax;f.from(a,1.6,{y:a.height(),ease:Power1.easeOut}),f.from(d,.6,{css:{top:e},ease:SteppedEase.config(9)},1.6),f.set(d,{opacity:1},1.6),f.from(b,.6,{css:{top:e},ease:SteppedEase.config(9),delay:.3},1.6),f.set(b,{opacity:1},1.6),f.from(c,.6,{css:{top:e},ease:SteppedEase.config(9),delay:.2},1.6),f.set(c,{opacity:1},1.6)}$(document).ready(init);var modalInit=function(a){function b(){TweenMax.to($(this),.3,{rotation:90,ease:Back.easeOut})}function c(){TweenMax.to($(this),.3,{rotation:0,ease:Back.easeOut})}function d(){B=!1,TweenMax.set(r,{clearProps:"all"}),TweenMax.set(s,{clearProps:"all"}),TweenMax.set(q,{css:{top:String(e(parseInt(q.css("top"))))+"rem",right:String(e(parseInt(q.css("right"))))+"rem",width:String(e(q.width()))+"rem",height:String(e(q.height()))+"rem"}})}function e(a){return parseInt(a)/D()}function f(){TweenMax.set(p,{clearProps:"all"}),TweenMax.set(q,{clearProps:"all"}),TweenMax.set(r,{clearProps:"all"}),TweenMax.set(s,{clearProps:"all"}),TweenMax.set(t,{clearProps:"all"}),TweenMax.set(u,{clearProps:"all"})}function g(a){var b=a.outerWidth(),c=i(a);return b+=2*c}function h(a){var b=a.outerHeight(),c=i(a);return b+=2*c}function i(a){var b=a.css("outline-width");return b=b.replace("px",""),b=Number(b)}var j=a.id,k=$("#"+j),l=document.getElementById(j).getAttribute("href");l=$(l);var m=k.offset().top,n=k.offset().left,o=l.find(".modal-overlay"),p=l.find(".modal-corner-left"),q=l.find(".modal-corner-right"),r=p.children(".modal-corner-cover"),s=q.children(".modal-corner-cover"),t=l.find(".modal-content"),u=l.find("#close-svg"),v=g(k),w=h(k),x=this;killConfetti(),$(".modal-open").css("overflowY","hidden"),o.on("click",function(a){x.closeModal()}),u.on("click",function(a){x.closeModal()}),u.hover(b,c),TweenMax.set(o,{opacity:1}),TweenMax.set(t,{opacity:1});var y=.4;TweenMax.set(p,{css:{width:p.width()+"px",height:p.height()+"px",rotation:20}}),TweenMax.set(q,{css:{width:q.width()+"px",height:q.height()+"px",rotation:20}});var z=new TimelineMax,A=new TimelineMax,B=!0;z.from(p,y,{css:{top:m+"px",left:n+"px",width:v+"px",height:w+"px",rotation:0},ease:Power4.easeInOut},0),z.from(q,y,{css:{top:m+"px",left:n+"px",width:v+"px",height:w+"px",rotation:0},ease:Power4.easeInOut},0),z.from(r,y,{height:"0%",ease:Power2.easeOut},0),z.from(s,y,{height:"0%",ease:Power2.easeOut,onComplete:d},0),z.from(t,.7,{css:{top:"-100%"},ease:Power4.easeOut,delay:y},0),z.from(u,.3,{scaleY:0,transformOrigin:"center center",ease:Bounce.easeOut,delay:.8},0);var C=l.find(".modal-body").find(".winning-numbers-table-dsk").find("td");C.each(function(a){var b=.08*a,c=$(this).find(".winning-numbers-content");TweenMax.from(c,1,{opacity:0,delay:y+.2+b})});var D=function(){var a=document.getElementsByTagName("html")[0];return function(){return parseInt(window.getComputedStyle(a).fontSize)}}();this.closeModal=function(){var a=.5;$(".modal-open").css("overflowY","auto"),z.stop(),TweenMax.set(o,{opacity:0}),TweenMax.set(t,{opacity:0}),A=new TimelineMax({onComplete:x.killModal}),A.to(p,a,{css:{left:"-180em",rotation:-.2},ease:Power1.easeOut},0),A.to(q,a,{css:{right:"-180em",rotation:-.2},ease:Power1.easeOut},0),A.set(r,{opacity:0},0),A.set(s,{opacity:0},0),B&&this.killModal()},this.killModal=function(){o.unbind(),u.unbind(),C.each(function(a){var b=$(this).find(".winning-numbers-content");TweenMax.killTweensOf(b),TweenMax.set(b,{clearProps:"all"})}),z.kill(),A.stop(),A.kill(),f(),"none"!=l.css("display")&&l.modal("toggle"),$(document.activeElement).blur(),$(".slider").slick("slickPlay")}},modalSmInit=function(a){function b(){p=!1,TweenMax.set(h,{clearProps:"all"}),TweenMax.set(h,{css:{bottom:String(d(parseInt(h.css("bottom"))))+"rem"}})}function c(){TweenMax.set(j,{clearProps:"all"}),TweenMax.set(h,{clearProps:"all"}),TweenMax.set(i,{clearProps:"all"})}function d(a){return parseInt(a)/r()}var e=a.id,f=($("#"+e),document.getElementById(e).getAttribute("href"));f=$(f);var g=f.find(".modal-overlay"),h=f.find(".modal-corner-left"),i=(f.find(".modal-content"),f.find(".modal-header")),j=f.find(".modal-game-menu"),k=f.find(".modal-close-bt"),l=this;killConfetti(),g.on("click",function(a){l.closeModal()}),k.on("click",function(a){l.closeModal()});var m=.7,n=new TimelineMax,o=new TimelineMax,p=!0;TweenMax.set(g,{opacity:1}),n.from(h,m,{css:{bottom:-h.height()/2+"px"},ease:Power4.easeOut,onComplete:b},0),n.from(i,1,{y:-$(window).height(),ease:Power4.easeOut},0);var q=f.find(".modal-logos-container").find(".winning-numbers-logo");q.each(function(a){var b=.08*a;TweenMax.from($(this),.8,{y:-$(window).height(),ease:Back.easeOut,delay:.2+b}),$(this).find("a").on("click",function(b){var c=a;b.preventDefault(),q.each(function(a){var b=$($(this).find("a").attr("href"));c!=a?(TweenMax.to($(this),.4,{opacity:.4}),"none"!=b.css("display")&&b.toggle()):(TweenMax.to($(this),.4,{opacity:1}),"none"===b.css("display")&&(b.toggle(),TweenMax.from(b,.5,{y:30,ease:Back.easeOut})))});var d=j.css("min-height");d=parseInt(d,10);var e=35;.35*$(window).height()<d&&(e=d/$(window).height()*100),TweenMax.to(j,.7,{height:e+"vh",ease:Power3.easeOut})})}),this.closeModal=function(){var a=.5;n.stop(),o=new TimelineMax({onComplete:l.killModal}),o.to(h,.2,{css:{bottom:-h.height()+"px"},ease:Power1.easeIn},0),o.to(i,a,{y:-$(window).height(),ease:Power2.easeIn},0),o.set(g,{opacity:0},0),f.find(".winning-numbers-content-sm").each(function(){"none"!=$(this).css("display")&&$(this).toggle()}),p&&l.killModal()},this.killModal=function(){g.unbind(),k.unbind(),c(),q.each(function(a){TweenMax.killTweensOf($(this)),TweenMax.set($(this),{clearProps:"all"})}),f.find(".winning-numbers-content-sm").each(function(){TweenMax.killTweensOf($(this)),TweenMax.set($(this),{clearProps:"all"})}),"none"!=f.css("display")&&f.modal("toggle"),$(document.activeElement).blur(),$(".slider").slick("slickPlay")};var r=function(){var a=document.getElementsByTagName("html")[0];return function(){return parseInt(window.getComputedStyle(a).fontSize)}}()};